<DOCTYPE html>
  <html lang="en">

  </html>

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>github-0.5px-border </title>
    <style type="text/css">
      * {
        margin: 0;
        padding: 0;
      }

      .margin-top-5px {
        margin-top: 10px;
      }

      .div-test {
        background: #ab0003;
        width: 100px;
        height: 100px
      }

      .tit {
        border-top: 1px solid #333;
        border-bottom: 1px solid #EDEDED;
      }

      /*横向单条border*/
      /* .border-1px-physics {
        position: relative;
      }

      @media screen and (-webkit-min-device-pixel-ratio: 2) {
        .border-1px-physics::before {
          content: "";
          position: absolute;
          width: 100%;
          height: 1px;
          background: #333;
          transform: scaleY(0.5);
        }
      }

      @media screen and (-webkit-min-device-pixel-ratio: 3) {
        .border-1px-physics::before {
          content: "";
          position: absolute;
          width: 100%;
          height: 1px;
          background: #333;
          transform: scaleY(0.333);
        }
      } */

/*把线条class应用到一个新增空DIV或已有内容的DIV上都可以。并不需要使用伪类::after！！！*/
      .border-1px-physics {
        width: 100%;
        height: 1px;
        border-bottom:1px solid #333;
      }
      /* dpr>=2时*/
      @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 2dppx) { 
        .border-1px-physics {
          transform: scaleY(0.5);
        }
      }
      /* dpr>=3时*/
      @media (-webkit-min-device-pixel-ratio: 3), (min-resolution: 3dppx) {
        .border-1px-physics {
          transform: scaleY(0.333);
        }
      }
    </style>
  </head>

  <body>
      <iframe width="100%"height="400px" src="https://stackblitz.com/edit/jieyao-react-demo?embed=1&file=.vscode/settings.json"></iframe>
    <div class="div-test">123 </div>
    <div class="tit margin-top-5px">我的上下都是1px"设备逻辑像素"</div>
    1px"设备物理像素"（根据dpr自动判断）:
    <div class="border-1px-physics margin-top-5px"></div>
    1px"设备物理像素"（根据dpr自动判断）:
    <div class="border-1px-physics margin-top-5px">测试</div>

    <script type="text/javascript">
      for (var i = 0; i < 5; i++) {
        (function (i) {
          window.onclick = function () {
            console.log(i)
          }
        })(i)
      }
      window.onload = function () {
        document.querySelector('.div-test').innerHTML = window.devicePixelRatio + '和' + window.screen.width
      }
      /*for循环没有局部作用域*/
      /*函数调用结束，局部变量销毁*/
    </script>
  </body>

  </html>